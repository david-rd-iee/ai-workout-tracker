import{C as s,F as l,G as h,H as b,Hb as C,Jb as E,K as _,Kb as M,Q as x,W as k,Z as P,_ as S,da as T,e as m,ea as U,ga as v,ha as w,ja as y,n as f,o as u,t as g,v as d,w as e,x as t,y as i,zb as I}from"./chunk-GYEOV455.js";import"./chunk-JILRXST5.js";import"./chunk-PE2S3EMJ.js";import"./chunk-3WPYDWGG.js";import"./chunk-LEOUPRPX.js";import"./chunk-3UNZRHNY.js";import"./chunk-III6E2XH.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-3QXY74KK.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-PM2M367S.js";var A=(()=>{let c=class c{constructor(){this.router=m(x,{optional:!0}),this.auth=m(I,{optional:!0}),this.firestore=m(C,{optional:!0}),this.DEV_UID="Zas8MzSObSfvv3SRMINzWMiQFg63",this.isLoading=!0,this.currentUser=null,this.profileImageUrl=null,this.username=null}ngOnInit(){if(!this.firestore){this.currentUser={email:"dev-tester@example.com",firstName:"Dev",lastName:"Tester",groupID:[],profilePic:"",role:"user",username:"devtester"},this.username=this.currentUser.username,this.profileImageUrl=null,this.isLoading=!1;return}this.auth?this.auth.onAuthStateChanged(a=>{let o=a?.uid??this.DEV_UID;this.subscribeToUser(o)}):this.subscribeToUser(this.DEV_UID)}ngOnDestroy(){this.userSub?.unsubscribe()}subscribeToUser(a){let o=M(this.firestore,"users",a);this.isLoading=!0,this.userSub?.unsubscribe(),this.userSub=E(o).subscribe({next:n=>{this.currentUser=n??null,this.username=this.currentUser?.username??null;let r=this.currentUser?.profilepic??this.currentUser?.profilePic??null;this.profileImageUrl=typeof r=="string"&&r.trim().length>0?r.trim():null,this.isLoading=!1},error:n=>{console.error("[ProfileUserPage] Failed to load user:",n),this.currentUser=null,this.username=null,this.profileImageUrl=null,this.isLoading=!1}})}get displayName(){let a=(this.currentUser?.firstName||"").trim(),o=(this.currentUser?.lastName||"").trim();return`${a} ${o}`.trim()||"User"}onSettingsClick(){console.log("Settings clicked")}goToGroups(){console.log("Groups clicked")}goToLogWorkout(){console.log("Log Workout clicked")}goToFindPT(){console.log("Find PT clicked")}goToStatues(){console.log("Statues clicked")}goToRegional(){console.log("Regional clicked")}goToAnalyzeWorkout(){console.log("Analyze Workout clicked")}};c.\u0275fac=function(o){return new(o||c)},c.\u0275cmp=g({type:c,selectors:[["app-profile-user"]],decls:43,vars:4,consts:[["translucent","true"],["slot","start"],["defaultHref",""],["slot","end"],["fill","clear",3,"click"],["name","settings-outline","slot","icon-only"],[1,"profile-content",3,"fullscreen"],[1,"profile-page"],[1,"profile-hero"],[1,"avatar-wrap"],["alt","Profile",1,"avatar-img",3,"src"],[1,"identity"],[1,"full-name"],[1,"username"],[1,"action-stack"],[1,"action-row",3,"click"],["name","people-outline"],["name","create-outline"],["name","search-outline"],["name","trophy-outline"],["name","map-outline"],["name","analytics-outline"]],template:function(o,n){o&1&&(e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),i(3,"ion-back-button",2),t(),i(4,"ion-title"),e(5,"ion-buttons",3)(6,"ion-button",4),s("click",function(){return n.onSettingsClick()}),i(7,"ion-icon",5),t()()()(),e(8,"ion-content",6)(9,"div",7)(10,"div",8)(11,"div",9),i(12,"img",10),t(),e(13,"div",11)(14,"div",12),l(15),t(),e(16,"div",13),l(17),t()()(),e(18,"div",14)(19,"button",15),s("click",function(){return n.goToGroups()}),e(20,"span"),l(21,"Groups"),t(),i(22,"ion-icon",16),t(),e(23,"button",15),s("click",function(){return n.goToLogWorkout()}),e(24,"span"),l(25,"Log Workout"),t(),i(26,"ion-icon",17),t(),e(27,"button",15),s("click",function(){return n.goToFindPT()}),e(28,"span"),l(29,"Find PT"),t(),i(30,"ion-icon",18),t(),e(31,"button",15),s("click",function(){return n.goToStatues()}),e(32,"span"),l(33,"Statues"),t(),i(34,"ion-icon",19),t(),e(35,"button",15),s("click",function(){return n.goToRegional()}),e(36,"span"),l(37,"Regional"),t(),i(38,"ion-icon",20),t(),e(39,"button",15),s("click",function(){return n.goToAnalyzeWorkout()}),e(40,"span"),l(41,"Analyze Workout"),t(),i(42,"ion-icon",21),t()()()()),o&2&&(u(8),d("fullscreen",!0),u(4),d("src",n.profileImageUrl||"assets/img/default-avatar.png",f),u(3),h(n.displayName),u(2),b("@",n.username||"username"))},dependencies:[_,U,w,v,S,k,P,y,T],styles:[".profile-content[_ngcontent-%COMP%]{--background: #f5ead7}.profile-page[_ngcontent-%COMP%]{padding:10px 16px 16px}.profile-hero[_ngcontent-%COMP%]{display:flex;gap:14px;align-items:center;padding:14px;border-radius:18px;background:#ffffff59;box-shadow:0 6px 14px #0000001a}.avatar-wrap[_ngcontent-%COMP%]{width:110px;height:150px;border-radius:18px;overflow:hidden;flex-shrink:0;background:#fff9;box-shadow:inset 0 0 0 1px #00000014}.avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.identity[_ngcontent-%COMP%]{flex:1;min-width:0}.full-name[_ngcontent-%COMP%]{font-size:44px;font-weight:800;line-height:.95;letter-spacing:-.5px;color:#111}.username[_ngcontent-%COMP%]{margin-top:10px;font-size:18px;font-weight:600;color:#1a1a1a;text-decoration:underline;text-underline-offset:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.action-stack[_ngcontent-%COMP%]{margin-top:18px;display:flex;flex-direction:column;gap:12px}.action-row[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;padding:16px;border-radius:16px;border:none;background:#2f7ac9;color:#fff;font-size:16px;font-weight:700;box-shadow:0 10px 18px #0000002e}.action-row[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;opacity:.95}.action-row[_ngcontent-%COMP%]:active{transform:translateY(1px);box-shadow:0 6px 12px #00000029}"]});let p=c;return p})();export{A as ProfileUserPage};

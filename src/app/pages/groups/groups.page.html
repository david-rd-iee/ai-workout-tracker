<ion-content [fullscreen]="true" class="groups-page">
  <section class="top-panel">
    <button class="back-btn" type="button" (click)="goBack()" aria-label="Go back">
      <ion-icon name="arrow-back-outline"></ion-icon>
    </button>

    <h1>Groups</h1>

    <div class="tab-toggle">
      <button
        type="button"
        [class.active]="selectedTab === 'training'"
        (click)="selectTab('training')"
      >
        Training
      </button>
      <button
        type="button"
        [class.active]="selectedTab === 'friends'"
        (click)="selectTab('friends')"
      >
        Friends
      </button>
    </div>
  </section>

  <section class="groups-content">
    <ng-container *ngIf="selectedTab === 'training'; else friendsTab">
      <div class="group-card placeholder-card">
        training leaderboard not implemented yet
      </div>
    </ng-container>

    <ng-template #friendsTab>
      <div class="state-message" *ngIf="loading">
        <ion-spinner name="crescent"></ion-spinner>
      </div>

      <div class="state-message error" *ngIf="!loading && errorMessage">
        {{ errorMessage }}
      </div>

      <div class="state-message" *ngIf="!loading && !errorMessage && friendGroups.length === 0">
        You are not in any friend groups yet.
      </div>

      <div class="card-list" *ngIf="!loading && !errorMessage && friendGroups.length > 0">
        <article class="group-card" *ngFor="let group of friendGroups">
          <img src="assets/icons/Icon.png" alt="" aria-hidden="true" />
          <p>{{ group.name }}</p>
        </article>
      </div>
    </ng-template>
  </section>
</ion-content>
